function update(){(keys[38]||keys[32])&&(player.jumping||(player.jumping=!0,player.velY=2*-player.speed)),keys[39]&&player.velX<player.speed&&player.velX++,keys[37]&&player.velX>-player.speed&&player.velX--,player.velX*=friction,player.velY+=gravity,player.x+=player.velX,player.y+=player.velY,player.x>=width-player.width?player.x=width-player.width:player.x<=0&&(player.x=0),player.y>=height-player.height&&(player.y=height-player.height,player.jumping=!1),ctx.clearRect(0,0,width,height),ctx.fillStyle="red",ctx.fillRect(player.x,player.y,player.width,player.height),requestAnimationFrame(update)}!function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=e}();var canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),width=1e3,height=400,player={x:width/2,y:height-5,width:5,height:5,speed:3,velX:0,velY:0,jumping:!1},keys=[],friction=.9,gravity=.1;canvas.width=width,canvas.height=height;var base_image=new Image;base_image.src="../img/pukeinatorCharacter.svg",base_image.onload=function(){ctx.drawImage(base_image,0,0)},document.body.addEventListener("keydown",function(e){keys[e.keyCode]=!0}),document.body.addEventListener("keyup",function(e){keys[e.keyCode]=!1}),window.addEventListener("load",function(){update()});